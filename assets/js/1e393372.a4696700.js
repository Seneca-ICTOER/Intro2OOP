"use strict";(self.webpackChunkoop345=self.webpackChunkoop345||[]).push([[36],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return f}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=c(n),m=i,f=d["".concat(s,".").concat(m)]||d[m]||u[m]||o;return n?a.createElement(f,r(r({ref:t},p),{},{components:n})):a.createElement(f,r({ref:t},p))}));function f(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,r=new Array(o);r[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:i,r[1]=l;for(var c=2;c<o;c++)r[c]=n[c];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},1466:function(e,t,n){n.r(t),n.d(t,{assets:function(){return s},contentTitle:function(){return r},default:function(){return d},frontMatter:function(){return o},metadata:function(){return l},toc:function(){return c}});var a=n(3117),i=(n(7294),n(3905));const o={id:"member-functions-and-privacy",title:"Member Functions and Privacy",sidebar_position:1,description:"TBD"},r="Member Functions and Privacy",l={unversionedId:"C-Encapsulation/member-functions-and-privacy",id:"C-Encapsulation/member-functions-and-privacy",title:"Member Functions and Privacy",description:"TBD",source:"@site/docs/C-Encapsulation/member-functions-and-privacy.md",sourceDirName:"C-Encapsulation",slug:"/C-Encapsulation/member-functions-and-privacy",permalink:"/C-Encapsulation/member-functions-and-privacy",draft:!1,editUrl:"https://github.com/Seneca-ICTOER/Intro2OOP/tree/main/docs/C-Encapsulation/member-functions-and-privacy.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{id:"member-functions-and-privacy",title:"Member Functions and Privacy",sidebar_position:1,description:"TBD"},sidebar:"courseNotesSidebar",previous:{title:"Dynamic Memory",permalink:"/B-Foundations/dynamic-memory"},next:{title:"Construction and Destruction",permalink:"/C-Encapsulation/construction-and-destruction"}},s={},c=[{value:"Member Functions",id:"member-functions",level:2},{value:"Adding a Member Function",id:"adding-a-member-function",level:3},{value:"Function Declaration",id:"function-declaration",level:3},{value:"Function Definition",id:"function-definition",level:3},{value:"Calling a Member Function",id:"calling-a-member-function",level:3},{value:"Scope of a Member Function",id:"scope-of-a-member-function",level:3},{value:"Accessing Global Functions",id:"accessing-global-functions",level:3},{value:"Privacy",id:"privacy",level:2},{value:"Accessibility Labels",id:"accessibility-labels",level:3},{value:"<code>class</code> Keyword",id:"class-keyword",level:3},{value:"Modifying Private Data",id:"modifying-private-data",level:3},{value:"Communications Links",id:"communications-links",level:3},{value:"Empty State",id:"empty-state",level:2},{value:"Upgrading <code>set()</code>",id:"upgrading-set",level:3},{value:"Design Tip",id:"design-tip",level:3},{value:"Upgrading <code>display()</code>",id:"upgrading-display",level:3},{value:"Looking Forward",id:"looking-forward",level:3},{value:"Input and Output Examples",id:"input-and-output-examples",level:2},{value:"<code>cin</code>",id:"cin",level:3},{value:"<code>ignore()</code>",id:"ignore",level:4},{value:"<code>cout</code>",id:"cout",level:3},{value:"<code>width()</code>",id:"width",level:4},{value:"<code>fill()</code>",id:"fill",level:4},{value:"<code>setf()</code>, <code>unsetf()</code>",id:"setf-unsetf",level:4},{value:"<code>setf()</code>, <code>unsetf()</code> - Formatting",id:"setf-unsetf---formatting",level:4},{value:"<code>setf()</code>, <code>unsetf()</code> - Alignment",id:"setf-unsetf---alignment",level:4},{value:"<code>precision()</code>",id:"precision",level:4},{value:"Student Example",id:"student-example",level:3},{value:"Summary",id:"summary",level:2}],p={toc:c};function d(e){let{components:t,...o}=e;return(0,i.kt)("wrapper",(0,a.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"member-functions-and-privacy"},"Member Functions and Privacy"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Design member functions using logic constructs"),(0,i.kt)("li",{parentName:"ul"},"Control accessibility to the data members of a class"),(0,i.kt)("li",{parentName:"ul"},"Introduce the concept of an object's empty state")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},'"Because different structures can have member functions with the same name, we must specify the structure name when defining a member function" ',(0,i.kt)("strong",{parentName:"p"},"Stroustrup, 1997."))),(0,i.kt)("p",null,"The primary concept of object-oriented programming is class encapsulation. Encapsulation incorporates within a class the structure of data that its objects store and the logic that operates on that data. In other words, encapsulation creates a clean interface between the class and its clients while hiding the implementation details from its clients. The C++ language describes this logic in the form of functions that are members of the class. The data members of a class hold the information about the state of its objects, while the member functions define the operations that query, modify and manage that state."),(0,i.kt)("p",null,"This chapter describes the C++ syntax for declaring member functions in a class definition, for defining the member functions in the implementation file and for limiting accessibility to an object's data."),(0,i.kt)("h2",{id:"member-functions"},"Member Functions"),(0,i.kt)("p",null,"The member functions of a class provide the communication links between client code and objects of the class. Client code calls the member functions to access an object's data and possibly to change that data."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Methods",src:n(4335).Z,width:"483",height:"151"})),(0,i.kt)("p",null,"We classify member functions into three mutually exclusive categories:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Queries:")," Also called accessor methods - report the state of the object"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Modifiers:")," Also called mutator methods - change the state of the object"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Special:")," Also called manager methods - create, assign and destroy an object")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Communication",src:n(8983).Z,width:"450",height:"148"})),(0,i.kt)("p",null,"Every member function has direct access to the members of its class. Each member function receives information from the client code through its parameters and passes information to the client code through its return value and possibly its parameters."),(0,i.kt)("h3",{id:"adding-a-member-function"},"Adding a Member Function"),(0,i.kt)("p",null,"Consider a ",(0,i.kt)("inlineCode",{parentName:"p"},"Student")," type with the following definition"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},"const int NG = 20;\n\nstruct Student {\n    int no;          // student number\n    float grade[NG]; // grades\n    int ng;          // number of grades filled\n};\n")),(0,i.kt)("h3",{id:"function-declaration"},"Function Declaration"),(0,i.kt)("p",null,"To declare a member function to a class, we insert its prototype into the class definition."),(0,i.kt)("p",null,"For example, to add ",(0,i.kt)("inlineCode",{parentName:"p"},"display()")," as a member to our ",(0,i.kt)("inlineCode",{parentName:"p"},"Student")," type, we write:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},"struct Student {\n    int no;\n    float grade[NG];\n    int ng;\n\n    void display() const; // member function\n};\n")),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"const")," qualifier identifies the member function as a query. A query does not change the state of its object. That is, this query cannot change the value of ",(0,i.kt)("inlineCode",{parentName:"p"},"no")," or any ",(0,i.kt)("inlineCode",{parentName:"p"},"grade"),"."),(0,i.kt)("p",null,"As a member function, ",(0,i.kt)("inlineCode",{parentName:"p"},"display()")," has direct access to the data members (",(0,i.kt)("inlineCode",{parentName:"p"},"no")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"grade"),"). There is no need to pass their values as arguments to the function."),(0,i.kt)("h3",{id:"function-definition"},"Function Definition"),(0,i.kt)("p",null,"We define ",(0,i.kt)("inlineCode",{parentName:"p"},"display()")," in the implementation file as follows:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},'void Student::display() const {\n\n    cout << no << ": \\n";\n    for (int i = 0; i < ng; i++)\n        cout << grade[i] << endl;\n\n}\n')),(0,i.kt)("p",null,"The definition consists of four elements:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"The ",(0,i.kt)("inlineCode",{parentName:"strong"},"Student::")," prefix")," on the function name identifies it as a member of our ",(0,i.kt)("inlineCode",{parentName:"li"},"Student")," type"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"The empty parameter list:")," This function does not receive any values from the client code or return any values through the parameter list to the client code"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"The ",(0,i.kt)("inlineCode",{parentName:"strong"},"const")," qualifier")," identifies this function as a query - this function cannot change any of the values of the object's data members"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"The data members:")," The function accesses no and grade are defined outside the function's scope but within the class' scope, which encompasses the function's scope")),(0,i.kt)("h3",{id:"calling-a-member-function"},"Calling a Member Function"),(0,i.kt)("p",null,"Client code calls a member function in the same way that an instance of a ",(0,i.kt)("inlineCode",{parentName:"p"},"struct")," refers to one of its data members. The call consists of the object's identifier, followed by the ",(0,i.kt)("inlineCode",{parentName:"p"},".")," operator and then followed by the member function's identifier."),(0,i.kt)("p",null,"For example, if ",(0,i.kt)("inlineCode",{parentName:"p"},"harry")," is a ",(0,i.kt)("inlineCode",{parentName:"p"},"Student")," object, we display its data by calling ",(0,i.kt)("inlineCode",{parentName:"p"},"display()")," on ",(0,i.kt)("inlineCode",{parentName:"p"},"harry"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},"Student harry = {975, 78.9f, 69.4f};\n\nharry.display();  // <== client call to the member function\n\ncout << endl;\n")),(0,i.kt)("p",null,"The object part of the function call (the part before the member selection operator) identifies the data that the function accesses."),(0,i.kt)("h3",{id:"scope-of-a-member-function"},"Scope of a Member Function"),(0,i.kt)("p",null,"The scope of a member function lies within the scope of its class. That is, a member function can access any other member within its class' scope. For example, a member function can access another member function directly:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},'struct Student {\n    int no;\n    float grade[NG];\n    int ng;\n\n    void display() const;\n    void displayNo() const;\n};\n\nvoid Student::displayNo() const {\n    cout << no << ": \\n";\n}\n\nvoid Student::display() const {\n    displayNo(); // calls the member function defined above\n    for (int i = 0; i < ng; i++)\n        cout << grade[i] << endl;\n}\n')),(0,i.kt)("h3",{id:"accessing-global-functions"},"Accessing Global Functions"),(0,i.kt)("p",null,"A member function can also access a function outside its class' scope. Consider the following global function definition:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},'void displayNo() {\n    cout << "Number...\\n";\n}\n')),(0,i.kt)("p",null,"Note that this definition does not include any scope resolution identifier. This global function shares the same identifier with one of the member functions, but does not introduce any conflict, since the client code calls each function using different syntax."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},"displayNo();       // calls the global display function\nharry.displayNo(); // calls the member function on harry\n")),(0,i.kt)("p",null,"To access the global function from within the member function we apply the scope resolution operator:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},"void Student::display() const {\n    ::displayNo(); // calls the global function\n    displayNo();   // calls the member function\n    for (int i = 0; i < ng; i++)\n        cout << grade[i] << endl;\n}\n")),(0,i.kt)("h2",{id:"privacy"},"Privacy"),(0,i.kt)("p",null,"Data privacy is central to encapsulation. Data members defined using the ",(0,i.kt)("inlineCode",{parentName:"p"},"struct")," keyword are exposed to client code. Any client code can change the value of a data member. To limit accessibility to any member, the C++ language lets us hide that member within the class by identifying it as private."),(0,i.kt)("p",null,"Well-designed object-oriented solutions expose to client code only those members that are the class's communication links. In a good design, the client code should not require direct access to any data that describes an object's state or any member function that performs internally directed operations."),(0,i.kt)("h3",{id:"accessibility-labels"},"Accessibility Labels"),(0,i.kt)("p",null,"To prohibit external access to any member (data or function), we insert the label ",(0,i.kt)("inlineCode",{parentName:"p"},"private")," into the definition of our class:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},"private:\n")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"private")," identifies all subsequent members listed in the class definition as inaccessible."),(0,i.kt)("p",null,"To enable external access, we insert the label ",(0,i.kt)("inlineCode",{parentName:"p"},"public"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},"public:\n")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"public")," identifies all subsequent members listed in the class definition as accessible."),(0,i.kt)("p",null,"For example, in order to:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Hide the data members of each ",(0,i.kt)("inlineCode",{parentName:"li"},"Student")," object"),(0,i.kt)("li",{parentName:"ul"},"Expose the member function(s) of the ",(0,i.kt)("inlineCode",{parentName:"li"},"Student")," type")),(0,i.kt)("p",null,"We insert the accessibility keywords as follows"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},"struct Student {\nprivate:\n    int no;\n    float grade[NG];\n    int ng;\npublic:\n    void display() const;\n};\n")),(0,i.kt)("p",null,"Note that the keyword struct identifies a class that is public by default."),(0,i.kt)("h3",{id:"class-keyword"},(0,i.kt)("inlineCode",{parentName:"h3"},"class")," Keyword"),(0,i.kt)("p",null,"The keyword ",(0,i.kt)("inlineCode",{parentName:"p"},"class")," identifies a class that is private by default."),(0,i.kt)("p",null,"We use the keyword ",(0,i.kt)("inlineCode",{parentName:"p"},"class")," to simplify the definition of a ",(0,i.kt)("inlineCode",{parentName:"p"},"Student")," type:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},"class Student {\n    int no;\n    float grade[NG];\n    int ng;\npublic:\n    void display() const;\n};\n")),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"class")," keyword is the common keyword in object-oriented programming, much more common than the ",(0,i.kt)("inlineCode",{parentName:"p"},"struct")," keyword. (The C language does not support privacy and a derived type in C can only be a ",(0,i.kt)("inlineCode",{parentName:"p"},"struct"),")."),(0,i.kt)("p",null,"Any attempt by the client code to access a private member generates a complier error:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},"void foo(const Student& harry) {\n    cout << harry.no;  // ERROR - this member is private!\n}\n")),(0,i.kt)("p",null,"The function ",(0,i.kt)("inlineCode",{parentName:"p"},"foo()")," can only access the data stored in ",(0,i.kt)("inlineCode",{parentName:"p"},"harry")," indirectly through public member function ",(0,i.kt)("inlineCode",{parentName:"p"},"display()"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},"void foo(const Student& harry) {\n    harry.display(); // OK\n}\n")),(0,i.kt)("h3",{id:"modifying-private-data"},"Modifying Private Data"),(0,i.kt)("p",null,"If the data members of a class are private, client code cannot initialize their values directly. We use a separate member function for this specific task."),(0,i.kt)("p",null,"For example, to store data in ",(0,i.kt)("inlineCode",{parentName:"p"},"Student")," objects, let us introduce a ",(0,i.kt)("inlineCode",{parentName:"p"},"public")," modifier named ",(0,i.kt)("inlineCode",{parentName:"p"},"set()"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},"const int NG = 20;\n\nclass Student {\n    int no;\n    float grade[NG];\n    int ng;\npublic:\n    void set(int, const float*, int);\n    void display() const;\n};\n")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"set()")," receives a student number, the address of an unmodifiable array of grades and the number of grades in that array from the client code and stores this information in the data members of the ",(0,i.kt)("inlineCode",{parentName:"p"},"Student")," object:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},"void Student::set(int sn, const float* g, int ng_) {\n    ng = ng_ < NG ? ng_ : NG;\n    no = sn; // store the Student number as received\n    // store the grades as received within the available space\n    for (int i = 0; i < ng; i++)\n        grade[i] = g[i];\n}\n")),(0,i.kt)("h3",{id:"communications-links"},"Communications Links"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"set()")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"display()")," member functions are the only communication links to client code. Clients can call ",(0,i.kt)("inlineCode",{parentName:"p"},"set()")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"display()")," on any ",(0,i.kt)("inlineCode",{parentName:"p"},"Student")," object, but no client code can access the data stored within any ",(0,i.kt)("inlineCode",{parentName:"p"},"Student")," object directly."),(0,i.kt)("p",null,"For example, the compiler traps the following privacy breach:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},"Student harry;\nfloat g[] = {78.9f, 69.4f};\n\nharry.set(975, g, 2);\nharry.display();\n\ncout << harry.no; // ERROR .no IS PRIVATE!\n")),(0,i.kt)("h2",{id:"empty-state"},"Empty State"),(0,i.kt)("p",null,"Hiding all data members from client code gives us control over which data to accept, which data to reject and which data to expose. We can validate information incoming from client code before storing it in an object. If the data is invalid, we can reject it and store default values that identify the object's state as an empty state."),(0,i.kt)("h3",{id:"upgrading-set"},"Upgrading ",(0,i.kt)("inlineCode",{parentName:"h3"},"set()")),(0,i.kt)("p",null,"Let us upgrade our ",(0,i.kt)("inlineCode",{parentName:"p"},"set()")," member function to validate incoming data only if:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"The student number is positive-valued"),(0,i.kt)("li",{parentName:"ul"},"The grades are between 0 and 100 inclusive"),(0,i.kt)("li",{parentName:"ul"},"If any incoming data fails to meet one of these conditions, let us ignore all incoming data and store a value that places the object in an ",(0,i.kt)("em",{parentName:"li"},"empty state"),". For instance, let us use a student number of 0 to identify an empty state:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},"void Student::set(int sn, const float* g, int ng_) {\n    int n = ng_ < NG ? ng_ : NG;\n    bool valid = true; // assume valid input, check for invalid values\n\n    if (sn < 1)\n        valid = false;\n    else\n        for (int i = 0; i < n && valid; i++)\n            valid = g[i] >= 0.0f && g[i] <= 100.0f;\n\n    if (valid) {\n        // accept the client's data\n        no = sn;\n        ng = n;\n        for (int i = 0; i < n; i++)\n            grade[i] = g[i];\n    }\n    else {\n        no = 0; // ignore the client's data, set an empty state\n    }\n}\n")),(0,i.kt)("p",null,"This validation logic ensures that either the data stored in any ",(0,i.kt)("inlineCode",{parentName:"p"},"Student")," object is valid data or the object is in an empty state."),(0,i.kt)("h3",{id:"design-tip"},"Design Tip"),(0,i.kt)("p",null,"Select one data member to hold the special value that identifies an empty state. Then, to determine if an object is in an empty state, we only need to interrogate that data member."),(0,i.kt)("h3",{id:"upgrading-display"},"Upgrading ",(0,i.kt)("inlineCode",{parentName:"h3"},"display()")),(0,i.kt)("p",null,"To match this upgrade, we ensure that our ",(0,i.kt)("inlineCode",{parentName:"p"},"display()")," member function executes gracefully if our object is in an empty state:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},'void Student::display() const {\n    if (no != 0) {\n        cout << no << ":\\n";\n        for (int i = 0; i < ng; i++)\n            cout << grade[i] << endl;\n    } else {\n        cout << "no data available";\n    }\n}\n')),(0,i.kt)("h3",{id:"looking-forward"},"Looking Forward"),(0,i.kt)("p",null,"Although this upgrade validates data incoming from client code, our class definition still leaves the data in a ",(0,i.kt)("inlineCode",{parentName:"p"},"Student")," object uninitialized before the first call from client code to ",(0,i.kt)("inlineCode",{parentName:"p"},"set()"),". To address this deficiency, we will introduce a special member function in the chapter entitled ",(0,i.kt)("a",{parentName:"p",href:"/C-Encapsulation/construction-and-destruction"},"Construction and Destruction.")),(0,i.kt)("h2",{id:"input-and-output-examples"},"Input and Output Examples"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"iostream")," type that represents the standard input and output objects, like ",(0,i.kt)("inlineCode",{parentName:"p"},"cin")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"cout"),", provides member functions for controlling the conversion of characters from the input stream into data types stored in system memory and the conversion of data types stored in system memory into characters sent to the output stream."),(0,i.kt)("h3",{id:"cin"},(0,i.kt)("inlineCode",{parentName:"h3"},"cin")),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"cin")," object is an instance of the ",(0,i.kt)("inlineCode",{parentName:"p"},"istream")," type. This object extracts a sequence of characters from the standard input stream, converts that sequence into a specified type and stores that type in system memory."),(0,i.kt)("p",null,"The general expression for extracting characters from the standard input stream takes the form"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},"cin >> identifier\n")),(0,i.kt)("p",null,"where ",(0,i.kt)("inlineCode",{parentName:"p"},">>")," is the extraction operator and ",(0,i.kt)("inlineCode",{parentName:"p"},"identifier")," is the name of the destination variable."),(0,i.kt)("p",null,"For example,"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},'int i;\nchar c;\ndouble x;\nchar s[8];\ncout << "Enter an integer,\\n"\n        "a character,\\n"\n        "a floating-point number and\\n"\n        "a string : " << flush;\ncin >> i;\ncin >> c;\ncin >> x;\ncin >> s;  // possible overflow\ncout << "Entered " << i << \' \'\n    << c << \' \' << x << \' \' << s << endl;\n')),(0,i.kt)("p",null,"Outputs:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-console"},"Enter an integer,\na character,\na floating-point and\na string : 6  -  9.75  Harry\n\nEntered 6 - 9.75 Harry\n")),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"cin")," object skips leading whitespace with numeric, string and character types (in the same way that ",(0,i.kt)("inlineCode",{parentName:"p"},'scanf("%d"...)'),", ",(0,i.kt)("inlineCode",{parentName:"p"},'scanf("%lf"...)'),", ",(0,i.kt)("inlineCode",{parentName:"p"},'scanf("%s"...)')," and ",(0,i.kt)("inlineCode",{parentName:"p"},'scanf(" %c"...)')," skip whitespace in C)."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},'// Leading Whitespace\n// leading.cpp\n\n#include <iostream>\nusing namespace std;\n\nint main() {\n    char str[11];\n\n    cout << "Enter a string : " << endl;\n    cin >> str;\n    cout << "|" << str << "|" << endl;\n}\n')),(0,i.kt)("p",null,"Outputs (Note: ",(0,i.kt)("inlineCode",{parentName:"p"},"_")," denotes space):"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-console"},"Enter a string :\n_abc\n|abc|\n")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"cin")," treats whitespace in the input stream as a delimiter for numeric and string data types. For C-style null-terminated string types, ",(0,i.kt)("inlineCode",{parentName:"p"},"cin")," adds the null byte after the last non-whitespace character stored in memory:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},'// Trailing Whitespace\n// trailing.cpp\n\n#include <iostream>\nusing namespace std;\n\nint main() {\n    char str[11];\n\n    cout << "Enter a string : " << endl;\n    cin >> str;\n    cout << "|" << str << "|" << endl;\n}\n')),(0,i.kt)("p",null,"Outputs (Note: ",(0,i.kt)("inlineCode",{parentName:"p"},"_")," denotes space):"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-console"},"Enter a string :\n_abc_\n|abc|\n")),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"istream")," type supports the following member functions:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"ignore(...)"),": Ignores/discards character(s) from the input buffer"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"get(...)"),": Extracts a character or a string from the input buffer"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"getline(...)"),": Extracts a line of characters from the input buffer")),(0,i.kt)("p",null,"For detailed descriptions of ",(0,i.kt)("inlineCode",{parentName:"p"},"get()")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"getline()"),", see the chapter entitled ",(0,i.kt)("a",{parentName:"p",href:"/F-Refinements/input-and-output-refinements#member-functions"},"Input and Output Refinements"),"."),(0,i.kt)("h4",{id:"ignore"},(0,i.kt)("inlineCode",{parentName:"h4"},"ignore()")),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"ignore()")," member function extracts characters from the input buffer and discards them. ",(0,i.kt)("inlineCode",{parentName:"p"},"ignore()")," does not skip leading whitespace. Two versions of ",(0,i.kt)("inlineCode",{parentName:"p"},"ignore()")," are available:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},"cin.ignore();\ncin.ignore(2000, '\\n');\n")),(0,i.kt)("p",null,"The no-argument version discards a single character. The two-argument version removes and discards up to the specified number of characters or up to the specified delimiting character, whichever occurs first and discards the delimiting character. The default delimiter is end-of-file (not end-of-line)."),(0,i.kt)("h3",{id:"cout"},(0,i.kt)("inlineCode",{parentName:"h3"},"cout")),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"cout")," object is an instance of the ",(0,i.kt)("inlineCode",{parentName:"p"},"ostream")," type. An ",(0,i.kt)("inlineCode",{parentName:"p"},"ostream")," object copies data from system memory into an output stream; in copying, it converts the data in system memory into a sequence of characters."),(0,i.kt)("p",null,"The general expression for inserting data into the standard output stream takes the form"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},"cout << identifier\n")),(0,i.kt)("p",null,"where ",(0,i.kt)("inlineCode",{parentName:"p"},"<<")," is the insertion operator and ",(0,i.kt)("inlineCode",{parentName:"p"},"identifier")," is the name of the variable or object that holds the data."),(0,i.kt)("p",null,"For example,"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},'int i = 6;\nchar c = \' \';\ndouble x = 9.75;\nchar s[] = "Harry";\ncout << i;\ncout << c;\ncout << x;\ncout << c;\ncout << s;\ncout << endl;\ncout << "Data has been written";\n')),(0,i.kt)("p",null,"Outputs:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-console"},"6 9.75 Harry\nData has been written\n")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"endl")," inserts a newline character into the stream and flushes the stream's buffer."),(0,i.kt)("p",null,"We may combine these expressions into a single statement that specifies multiple insertions:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},'int i = 6;\nchar c = \' \';\ndouble x = 9.75;\nchar s[] = "Harry";\n\ncout << i << c << x << c << s << endl;\n\ncout << "Data has been written";\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-console"},"6 9.75 Harry\nData has been written\n")),(0,i.kt)("p",null,"We call such repeated use of the insertion operator ",(0,i.kt)("em",{parentName:"p"},"cascading"),"."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"ostream")," type supports the following public member functions for formatting conversions:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"width(int)"),": Sets the field width to the integer received"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"fill(char)"),": Sets the padding character to the character received"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"setf(...)"),": Sets a formatting flag to the flag received"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"unsetf(...)"),": Unsets a formatting flag for the flag received"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"precision(int)"),": Sets the decimal precision to the integer received")),(0,i.kt)("h4",{id:"width"},(0,i.kt)("inlineCode",{parentName:"h4"},"width()")),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"width(int)")," member function specifies the minimum width of the ",(0,i.kt)("strong",{parentName:"p"},"next")," output field:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},'// Field Width\n// width.cpp\n\n#include <iostream>\nusing namespace std;\n\nint main() {\n    int attendance = 27;\n    cout << "1234567890" << endl;\n    cout.width(10);\n    cout << attendance << endl;\n    cout << attendance << endl;\n}\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-console"},"1234567890\n        27\n27\n")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"width(int)")," applies only to the next field. Note how the field width for the first display of ",(0,i.kt)("inlineCode",{parentName:"p"},"attendance")," is 10, while the field width for the second display of ",(0,i.kt)("inlineCode",{parentName:"p"},"attendance")," is just the minimum number of characters needed to display the value (2)."),(0,i.kt)("h4",{id:"fill"},(0,i.kt)("inlineCode",{parentName:"h4"},"fill()")),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"fill(char)")," member function defines the padding character. The output object inserts this character into the stream wherever text occupies less space than the specified field width. The default fill character is ",(0,i.kt)("inlineCode",{parentName:"p"},"' '")," (space). To pad a field with ",(0,i.kt)("inlineCode",{parentName:"p"},"'*'"),"'s, we add:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},"// Padding\n// fill.cpp\n\n#include <iostream>\nusing namespace std;\n\nint main() {\n    int attendance = 27;\n    cout << \"1234567890\" << endl;\n    cout.fill('*');\n    cout.width(10);\n    cout << attendance << endl;\n}\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-console"},"1234567890\n********27\n")),(0,i.kt)("p",null,"The padding character remains unchanged, until we reset it."),(0,i.kt)("h4",{id:"setf-unsetf"},(0,i.kt)("inlineCode",{parentName:"h4"},"setf()"),", ",(0,i.kt)("inlineCode",{parentName:"h4"},"unsetf()")),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"setf()")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"unsetf()")," member functions control formatting and alignment. Their control flags include:"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"center"},"Control Flag"),(0,i.kt)("th",{parentName:"tr",align:"center"},"Result"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},(0,i.kt)("inlineCode",{parentName:"td"},"ios::fixed")),(0,i.kt)("td",{parentName:"tr",align:"center"},"ddd.ddd")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},(0,i.kt)("inlineCode",{parentName:"td"},"ios::scientific")),(0,i.kt)("td",{parentName:"tr",align:"center"},"d.ddddddEdd")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},(0,i.kt)("inlineCode",{parentName:"td"},"ios::left")),(0,i.kt)("td",{parentName:"tr",align:"center"},"align left")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},(0,i.kt)("inlineCode",{parentName:"td"},"ios::right")),(0,i.kt)("td",{parentName:"tr",align:"center"},"align right")))),(0,i.kt)("p",null,"The scope resolution (",(0,i.kt)("inlineCode",{parentName:"p"},"ios::"),") on these flags identifies them as part of the ",(0,i.kt)("inlineCode",{parentName:"p"},"ios")," class."),(0,i.kt)("h4",{id:"setf-unsetf---formatting"},(0,i.kt)("inlineCode",{parentName:"h4"},"setf()"),", ",(0,i.kt)("inlineCode",{parentName:"h4"},"unsetf()")," - Formatting"),(0,i.kt)("p",null,"The default format in C++ is ",(0,i.kt)("em",{parentName:"p"},"general format"),", which outputs data in the simplest, most succinct way possible (1.34, 1.345E10, 1.345E-20). To output a fixed number of decimal places, we select ",(0,i.kt)("em",{parentName:"p"},"fixed format"),". To specify fixed format, we pass the ",(0,i.kt)("inlineCode",{parentName:"p"},"ios::fixed")," flag to ",(0,i.kt)("inlineCode",{parentName:"p"},"setf()"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},'// Fixed Format\n// fixed.cpp\n\n#include <iostream>\nusing namespace std;\n\nint main() {\n    double pi = 3.141592653;\n    cout << "1234567890" << endl;\n    cout.width(10);\n    cout.setf(ios::fixed);\n    cout << pi << endl;\n}\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-console"},"1234567890\n  3.141593\n")),(0,i.kt)("p",null,"Format settings persist until we change them. To unset fixed format, we pass the ",(0,i.kt)("inlineCode",{parentName:"p"},"ios::fixed")," flag to the ",(0,i.kt)("inlineCode",{parentName:"p"},"unsetf()")," member function:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},'// Unset Fixed Format\n// unsetf.cpp\n\n#include <iostream>\nusing namespace std;\n\nint main() {\n    double pi = 3.141592653;\n    cout << "1234567890" << endl;\n    cout.width(10);\n    cout.setf(ios::fixed);\n    cout << pi << endl;\n    cout.unsetf(ios::fixed);\n    cout << pi << endl;\n}\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-console"},"1234567890\n  3.141593\n3.14159\n")),(0,i.kt)("p",null,"To specify scientific format, we pass the ",(0,i.kt)("inlineCode",{parentName:"p"},"ios::scientific")," flag to the setf() member function:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},'// Scientific Format\n// scientific.cpp\n\n#include <iostream>\nusing namespace std;\n\nint main() {\n    double pi = 3.141592653;\n    cout << "12345678901234" << endl;\n    cout.width(14);\n    cout.setf(ios::scientific);\n    cout << pi << endl;\n}\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-console"},"12345678901234\n  3.141593e+00\n")),(0,i.kt)("p",null,"To turn off scientific format, we pass the ",(0,i.kt)("inlineCode",{parentName:"p"},"ios::scientific")," flag to the ",(0,i.kt)("inlineCode",{parentName:"p"},"unsetf()")," member function."),(0,i.kt)("h4",{id:"setf-unsetf---alignment"},(0,i.kt)("inlineCode",{parentName:"h4"},"setf()"),", ",(0,i.kt)("inlineCode",{parentName:"h4"},"unsetf()")," - Alignment"),(0,i.kt)("p",null,"The default alignment is right-justified."),(0,i.kt)("p",null,"To specify left-justification, we pass the ",(0,i.kt)("inlineCode",{parentName:"p"},"ios::left")," flag to the s",(0,i.kt)("inlineCode",{parentName:"p"},"etf()")," member function:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},"// Left Justified\n// left.cpp\n\n#include <iostream>\nusing namespace std;\n\nint main() {\n    double pi = 3.141592653;\n    cout << \"1234567890\" << endl;\n    cout.width(10);\n    cout.fill('?');\n    cout.setf(ios::left);\n    cout << pi << endl;\n}\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-console"},"1234567890\n3.14159???\n")),(0,i.kt)("p",null,"To turn off left-justification, we pass the ",(0,i.kt)("inlineCode",{parentName:"p"},"ios::left")," flag to the ",(0,i.kt)("inlineCode",{parentName:"p"},"unsetf()")," member function:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},"cout.unsetf(ios::left);\n")),(0,i.kt)("h4",{id:"precision"},(0,i.kt)("inlineCode",{parentName:"h4"},"precision()")),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"precision()")," member function sets the precision of subsequent floating-point fields. The default precision is ",(0,i.kt)("inlineCode",{parentName:"p"},"6")," units. General, fixed, and scientific formats implement precision differently. General format counts the number of significant digits. Scientific and fixed formats count the number of digits following the decimal point."),(0,i.kt)("p",null,"For a precision of ",(0,i.kt)("inlineCode",{parentName:"p"},"2")," under general format, we write"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},'// Precision\n// precison.cpp\n\n#include <iostream>\nusing namespace std;\n\nint main() {\n    double pi = 3.141592653;\n    cout << "1234567890" << endl;\n    cout.setf(ios::fixed);\n    cout.width(10);\n    cout.precision(2);\n    cout << pi << endl;\n}\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-console"},"1234567890\n      3.14\n")),(0,i.kt)("p",null,"The precision setting applies to the output of all subsequent floating-point values until we change it."),(0,i.kt)("h3",{id:"student-example"},"Student Example"),(0,i.kt)("p",null,"The code snippet produces the output shown below:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-cpp"},'void Student::display() const {\n    if (no > 0) {\n        cout << no << ":\\n";\n        cout.setf(ios::fixed);\n        cout.precision(2);\n        for (int i = 0; i < ng; i++) {\n            cout.width(6);\n            cout << grade[i] << endl;\n        }\n        cout.unsetf(ios::fixed);\n        cout.precision(6);\n    } else {\n        cout << "no data available" << endl;\n    }\n}\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-console"},"975:\n  78.90\n  69.40\n")),(0,i.kt)("h2",{id:"summary"},"Summary"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Object-oriented classes may contain both data members and member functions"),(0,i.kt)("li",{parentName:"ul"},"The keyword ",(0,i.kt)("inlineCode",{parentName:"li"},"private")," identifies subsequent members as inaccessible to any client"),(0,i.kt)("li",{parentName:"ul"},"The keyword ",(0,i.kt)("inlineCode",{parentName:"li"},"public")," identifies subsequent members as accessible to any client"),(0,i.kt)("li",{parentName:"ul"},"Data members hold the information about an object's state"),(0,i.kt)("li",{parentName:"ul"},"Member functions describe the logic that an object performs on its data members"),(0,i.kt)("li",{parentName:"ul"},"A query reports the state of an object without changing its state"),(0,i.kt)("li",{parentName:"ul"},"A modifier changes the state of an object"),(0,i.kt)("li",{parentName:"ul"},"An empty state is the set of data values that identifies the absence of valid data in an object"),(0,i.kt)("li",{parentName:"ul"},"A field width setting only holds for the next field"),(0,i.kt)("li",{parentName:"ul"},"All settings other than a field width setting persist until changed"),(0,i.kt)("li",{parentName:"ul"},"Precision has different meanings under general, scientific, and fixed formats")))}d.isMDXComponent=!0},8983:function(e,t,n){t.Z=n.p+"assets/images/communication-4a1152ecc06dbb9293d9fba43b6ab631.png"},4335:function(e,t,n){t.Z=n.p+"assets/images/methods-67e7bb294597759ba5bfe6b6bb6fc185.png"}}]);